# Development Essentials

## Course Introduction
- Well rounded software engineers are Capable, Creative, Collaborative, and Christlike

## AWS Account
- Create AWS account. We will use this for EC2 (Server), EC2 Elastic IP (Keep IP address between reboots), Route 53 (Domain name & DNS records)

## Git
- Git is the world's most popular version control system, created by Linus Torvalds
- git -- version in the terminal will show you what version of git is installed on your machine
- Git allows you to 1. track versions of files in a directory and 2. allows you to clone all of those versions to a different location

- Initializing a git directory in terminal:
    - mkdir gitdirectory
    - cd playingWithGit
    - git init
- Listing all files in terminal from new git directory
    - ls -la
- Create a new file in git directory using terminal and check status to see what git is doing
    - echo hello world > hello.txt
    - git status
- Usually you add Git to all files in a directory. You do this in terminal. This will stage the file(s) to be committed to the Git repository
    - git add .
    - git status
- You then can commit the file changes into the directory in the terminal. You do this and we leave a meaningful comment about the commit using the -m parameter
    - git commit -m "meaningful message"
    - git status (this will show you that the working tree is clean, there are no commits to be made)
- You can commit multiple files at once. You only will commit the ones that you've staged. You don't have to stage all files with changes in a commit. You can automatically stage and modify all files with changes using -a in the terminal.
    - echo goodbye world > hello.txt
    - git commit -am "changed greeting to reflect mood"
- You can view the versions of the files in the Git repository with git log. THis will display commits and comments.
    - git log
- Every commmit has a unique idewtifier that is generated by hashing the file along with the timestamp using the SHA algorithm. You can always refer to a specific commit in your version history using its SHA. Do this in terminal with the checkout command. this will take you back to a previous version of the file
    - git checkout d43b07b8890f(example SHA)
- You can easily go back to the most recent version using checkout master in the terminal
    - git checkout master
- You can use diff and HEAD to compare differences between committs. HEAD by default is the commit you're currently looking at. You can use HEAD~ and the numerical distance from the HEAD that you want to look at.
    - git diff HEAD HEAD~1
- Git supports the ability to branch your code. This allows you to work on variations of the code while still allowing progress on the main branch. For example, if you wanted to work on a new feature named A without interrupting work on the master branch, you would use the git branch A command to create a new branch named A, then start working on the new branch with the git checkout A command. Now commits can be done to either the master branch or the A branch. When you want to combine the work done on both branches, you checkout the master branch and execute git merge A. If you decide you want to abandon the new feature, then you just don't ever merge it back into the master branch.
- Be aware that if you store large binary files (images or videos), you will make a copy each time you commit and could use significant storage doing so. 

## GitHub
- GitHub is a cloud based service taht makes the management of cloning repositories much easier
- We will use GitHub for 1. Hosting instruction, 2. Publilcly hosing our project repositories, 3. Keeping notes
- You can create a repository in your development environment using git init and then connect it upstream to a repsoitory on GitHub, but it's a lot easier to create your repository first on GitHub and then clone it to your dev environment. This automatically links them together
- You clone a repository by providing the GitHub repository's URL as a parameter to the git clone command from in a console window. You can get a copy of the URL from the repository's GitHub page and clicking on the green Code button, and then clicking on the copy button next to the HTTPS URL.
- When you clone a repository it is placed in a subdirectory named with the name of the repository. So make sure you are in the directory where you keep all of your source repositories before you run the command.
    - git clone https://github.com/webprogramming260/startup-example.git
    - cd startup-example
- This is the pattern that you want to make a reflexive part of your development process.
    - Pull the repository's latest changes from GitHub (git pull)
    - Make changes to the code
    - Commit the changes (git commit)
    - Push the changes to GitHub (git push)
- The first time you make a push request to a repository Git will ask you how you want to identify yourself and what credential (e.g. password) to use in order to authenticate with GitHub. You will need to create a Personal Access Token and provide that as your password.Make sure you use the email that you provided for your GitHub account.
    - git config --global user.email "you@example.com"
    - git config --global user.name "Your name"
- You can run the fetch command in terminal to see what changes have been made on GitHub without chaning your local environment. Then, run the status Git command to see the differences between clones and see that we are missing a commit. Then you can use pull to sync your local environment with the repository
    - git fetch
    - git status
    - git pull
- Forking a repository clones it to GitHub, and then you can pull it into your environment
## A Brief History of Web Programming
- Three Distinct Phases
    - The formation of the internet that supports the communication of web applications
    - The creation of HTML and HTTP that made it possible to share hyperlinked docs (Web1.0)
    - The creation of CSS and Javascript that enabled interactive web applications (Web 2.0)

# Web Server Setup

## Tech Stack
- The collection of technologies that you use to create or deliver your web appp is called a technology stack
- At the top of your stack is your web framework (ie. Angular, React, Vue, Svelte)
- The framework then communicates with one or more web services to provide authentication, business, data, and persistent storage
- The web service then uses backend services such as chaching, database, logging, and monitoring
- Here is our tech stack:
    - React for the web framework
    - Caddy as the web server hosted on AWS
    - Running web services with Node.js
    - MongoDB as the database hosted on MongoDB Atlas

## AWS - EC2
- Steps to create a web server
    - 1. Open the AWS console in your browser and login
    - 2. Navigate to the EC2 service
    - 3. Change you region to US East (N. Virginia) - us-east-1. This will make it so that your server is located there. This is cruc ial because the Amazon Machine Image you will use is only available there
    - 4. Select the option to "Launch Instance"
    - 5. Give your instance a meaningful name (i.e. owner-purpose-version)
    - 6. Select your AMI
    - 7. Select t3.nano, t3.micro, or t2.micro for the instance type depending on power needed
    - 8. Create a new key pair and save it to your local dev environment. They are reusable
    - 9. Make sure network settings are auto-assign public IP. Firewall(security group) should be "Create security group". Allow SSH, HTTP, and HTTPS traffic from anywhere
    - 10. Launch instance

## SSH into Your Server
- SSH is used to shell into the server. It requires the public IP address from the EC@ instance and the location of your key pair file. 
    - ssh -i [key pair file] ubuntu@[ip address]
- You may get a warneing that your key pair file permissions are too open. If so,  then you can restrict the permissions on your file so that they aren't accessible to all users by running the chmod command in the terminal:
    - chmod 600 [key pair file]
- You can now run "ls -l" in the terminal to see the ubuntu user's home directory
    - The public_html directory contains all of the static files that you are serving up directly through Caddy when using it as a web service
    - The services directory is the place where you are going to install all of your web services when they are built
- There are 2 choices to keep the same public IP address, and both are recommended to do at the same time:
    - Never stop your server
    - Assign an elastic IP address to your server so that it keeps the same address even if you stop it
- Here is how to assign an elastic IP address:
    - 1. Open the AWS console in your browser and login
    - 2. Navigate to the EC2 Service
    - 3. From the Menu on the left select "Network and Security | Elastic IPs"
    - 4. Press the Allocate Elastic IP address Button
    - 5. Press the Allocate Buttion
    - 6. Select the newly displayed allocated  address and press the Actions button
    - 7. Select the Associate Elastic IP address option
    - 8. Click on the Instance box and select your server instance
    - 9. Press Associate

## Route 53
- Route 53 is the AWS service that handles everything DNS related. It enables you to buy a domain name, host your domain on their DNS servers, and create DNS records
- How to cpurchase a domain name on Route 53:
    - 1. Open the AWS console in your browser and login
    - 2. Navigate to the Route 53 service
    - 3. Select the Domain > Registered domains option from the menu on the left
    - 4. Push the Register Domain option
    - 5.  Select the TLD that you want. AWS currently offers the .click TLD and .link
    - 6. Put your desired root domain into the search box and press check to see if its available
    - 7. Press Add to Cart
    - 8. Fill out the contact details. This is sent to the authorized DNS registrar and is what shows up to the world for your domain. Once registration is complete, you can see this info using the console program "whois". 
    - 9. Press Continue
    - 10. Review everything and press Complete Order
    - 11. Finally, it will show you have a hosted zone for your domain name

- ONce you have a domain name, you can use it to create DNS records that will map domain names to IP addresses or other domain names. This is how this is done:
    - 1. Open the AWS console in your browser and login
    - 2. Navigtate to the Route 53 service
    - 3. Select the Hosted Zones option from the menu on the left
    - 4. You should see your domain anme listed here.
    - 5. Click on your domain name to view the details. This should display existing DNS records with types such as NS and SOA
    - 6. First, create the root domain DNS record. This will associate your domain name with your server's Ip address and allow you to use your domain name in the browser to navigate to the server:
        - 1. Press the create record button
        - 2. In the Value box enter the public IP address of your server
        - 3. Press Create records
        - 4. A new A type record should appear in your list of records that represents the root domain name and your server's public IP address
    - 7. Next we will create a DNS record that will map to your server for any subdomain of your root domain name. THis is possible because DNS allows you to specify wildcards for a DNS record:
        - 1. Press the Create Record button
        - 2. In the Record name box enter the text *. This wildcard represents that any subdomain will match this record, so long as it is not explicitly defined by another DNS record.
        - 3. In the Value box enter the public IP address of your server
        - 4. Press Create records
        - 5. A new A type record should appear in your list of records that represents the wildcard subdomain name and your server's public IP address
- Some other record types are created. NS is the name server recored and it contains the names of authoratative name servers that authorize you to place DNS records in this DNS server. They add security. SOA records provide contact info about the owner of the domain name
- How to lease a domain name:
    - 1. Open the AWS browser console and login
    - 2. Use Route 53 to purchase a domain name
    - 3. Set up your DNS records in Route 53. Make sure you have a recored representing your root domain name and a wild card subdomain
- DNS stands for Domain Name System
-  You need a domain name to represent a web app so that you can create a secure HTTPS connection

## Caddy
- Caddy is a web service that listens for incoming HTTP requests. Caddy then serves up the requested statci files or routes the request to another web service. This abilitiy to route requests is called a gateway, or reverse proxy, and allows you to expose multiple web services as a single exxternal web service
- Caddy handles all of the creation and rotation of web certificates. This allows us to easily support HTTPS
- Caddy serves up all of your static HTML, CSS, and Javascript files. All of your early application work will be hosted as static files
- Caddy acts as a gateway for subdomain  requests to your Simon and Startup application services. For example, when a request is made to simon.yourdomain Caddy will proxy the request to Simon appplication running with node.js as an internal wegb service
- Configuration file: ~/Caddyfile
    - Contains the definitions for routing HTTP requests that Cadddy receives. Ths is used to determine the location where static HTML files are loaded from, and also to proxy requests into the services you will create later. Never modify this manually except for when you confiure the domain name of your server
- HTML Files: ~/public_html
    - This is the directory of files taht Caddy serves up when requests are made to the root or your web server. This is configured in the Caddyfile discussed above. If you actually look at the Caddyfile you will see that the statitc file server is mapped to /usr/share/caddy. That is the location that the file link in the Upuntu user's hom directory, ~/public_html, is pointing to
    - :80 {
        root * /usr/share/caddy
        file_server
   }
    - Whenever Caddy recieves an HTTP request for any domain name on port 80 it will use the path of the request to find a corresponding file in this directory. For example, a request for http://fanvote.click/index.html it will look for a file named index.html in the public_html directory 

## HTTPS, TLS, and Web Certificates
- HTTPS stands for Secure Hypertext Transport Protocol
- Having a secure connection means that all the data is enrypted usingthe TLS protocol
- TLS works by negotiating a shared secret that is then used to encrypt the data. This can be seen with curl and the parameter  -v
    - curl - v -s https://byu.edu > /dev/null
- The > /dev/null redirection throws away the acutal HTTP response
- A core peice of this negotiation is the exchange of aweb certificate that identifies the domain name of the server creating the secure connection.
- Let's Encrypt made it free and and easy to get web certificates
- Caddy uses Let's Encrypt to generate a web certificate every time an HTTPS request is made for a domain name that Caddy doesn't have a web certificate for. It does this by asking Let's Encrypt to verify that the domain for the requested certificate is actually owned by the requester. 
- How to use Caddy as a gateway to our different services and host our static web app files:
    - 1. Open a console window
    - 2. Use ssh console program to shell into your production environment server
        - ssh -i [key pair file] ubuntu@[your domain here]
    - 3. Edit Caddy's configuration file found in the ubuntu user's home directory
        - cd ~
        - vi Caddyfile
    - 4. Modify the Caddy rule for handling requests to port 80 (HTTP), to instead handle request for your domain name. By not specifying a port rule will serve up files using port 443 (HTTPS), and any request to port 80 will automatically redirect the browser to port 443. Replace :80 with your domian name and delete the colon
    - 5. Modify the Caddy rules that route the traffic for the two web applications that we will build. To do this replace the two places where yourdomain appears with your domain name.
    - 6. Review the Caddyfile to make sure it looks right. 
    - 7. Save the file and exit VI
        - :wq
    - 8. Restart Caddy so that your changes tak effect. 
        - sudo service caddy restart

## The Console
- Consoles (terminal) need to be POSIX compliant
- printf 'hello\n' -> hello
- ls -la lists all of the files that in a directory in long format
- The two primary purposes of the console are to view the files on the computer and to execute commands. 
- Types of console commands
    - echo: Output the parameters of the command
    - cd: change directory
    - mkdir: make directory
    - rmdir: remove directory
    - rm: remove file(s)
    - mv: move files(s)
    - cp: copy files
    - ls: list files
    - curl: command line client URL browser
    - grep: regular expression search
    - find: find files
    - top: view running processes with CPU and memory usage
    - df: view disk stats
    - cat: output the contents of a file
    - less: interactively output the contents of a file
    - wc: Count the words in a file
    - ps: View the currently running processes
    - kill: kill a currently running process
    - sudo: Execute a comand as a super user(admin)
    - ssh: Create a secure shell on a remote computer
    - scp: Securley copy files to a remote computer
    - history: show the history of commands
    - ping: Check if a website is up
    - tracert: Trace the connections to a website
    - dig: Show the DNS info for a domain
    - man: Look up a command in the manual
- How to chain the input and output of commands using special characters:
    - |: take the output from the command on the left and pipe or pass it to the command on the right
    - (>) : Redirect output to a file. Overwrite it if it exists
    - (>>) : Redirect output to a file. Append it if it exists
- Keystrokes with special meaining in the console:
    - CTRL-R: Use type ahead to find previous commands
    - CTRL-C: Kill the currently running command

## Editors
- The code editor is the workspace of a web app developer. 
- VI or Vim
    - To use VI, open your console and change directory to one that holds some code that you want to work on. 
        - vi index.html
    - There are two modes in VI, command mode and insert mode. Command mode is the default. To edit a doc, use the command "i" to enter insert mode. To exit insert mode, press ESC and then :q
    - VI commands:
        - :h : help
        - i : enter insert mode
        - u : undo
        - CTRL-r : redo
        - gg : go to beginning of file
        - G : go to end of file
        - / : search for text that you type after /
        - n : next search match
        - N : previous search match
        - v : visually select text
        - y : Yank or copy selected text to clipboard
        - p : paste clipboard
        - CTRL-wv : split window vertically
        - CTRL-ww : Toggle windows
        - CTRL-wq : Close current window
        - :e : Open a file
        - :w : write file(save)
        - :q : quit (:q! to quit without saving)

# HTML

## HTML Introduction
- HTML stands for HyperText Markup Language
- Originally designed to be a publishing format for web docs
- Text is valid HTML. Elements and tags provide structure
- HTML elements are represented with enclosing tags that may enclose other elements or text
- Tags designate the start and end of an HTML element
- open tags are denoted "<" and closing tags are denoted "/>"
- The <html> element represents the top level page structure
- The <head> element contains metadata about the page and page title
- The <body> element represents the content structure
- The <main> element represents the main content structure, as opposed to things like headers, footers, asides, and navigation content
- Every HTML element may have attributes that describe specific details of the element. 
    - The "id" attribute gives a unique ID to the element so that it can be distinguished
    - The "class" attribute is another common element that designates the element as being classified into a named group of elements
- A hyperlink in HTML is represented with an anchor (`<a>`) element that has an attribute containing the address of the hyperlink reference (`href`)
    - `<a href="https://fanvote.click">Go to Fanvote</a>`
- HTML defines a header (<!DOCTYPE html>) that tells the browser the type and version of the doc. This should be at the top of every HTLM file.
- Common HTML elements:
    - html : page container
    - head : Header info
    - title : Title of the page
    - meta : Metadata for the page such as character set or viewport settings
    - script : Javascript reference
    - include : External content reference
    - body : The entire content body of the page
    - header : Header of the main content
    - footer : footer of the main content
    - nav : Navigational inputs
    - main : Main content of the page
    - section : A section of the main content
    - aside : Aside content from the main content
    - div : A block division of content
    - span : and inline span of content
    - h<1-9> : Text heading (h1 biggest, h9 smallest)
    - p : paragraph
    - b : bring attention
    - table : table
    - tr : table row
    - th : table header
    - td : table data
    - ol, ul : ordered or unordered list
    - li : list item
    - a : anchor text to a hyperlink
    - img : graphical image reference
    - dialog : interacteve component such as a confirmation
    - form : A collection of user input
    - input: User input field
    - audio : audio content
    - video : video content
    - svg : scalabel vector graphic content
    - iframe : inline frame of another HTML page
- Comments in HTML are started with `<!-- commented text -->`
- Special Characters in HTML are used for defining file format. Basically, if a '<' or a '&' is part of the content on your page, you need to tell VS Code that it is textual content and not an HTML element.
- Character | Entities
    - `&` → `&amp;`
    - `<` → `&lt;`
    - `>` → `&gt;`
    - `"` → `&quot;`
    - `'` → `&apos;`
    - 😀 → `&#128512;`
- HTML versions:
| Year  | Version | Features                                      |
|-------|---------|-----------------------------------------------|
| 1990  | HTML1   | format tags                                   |
| 1995  | HTML2   | tables, internationalization                  |
| 1997  | HTML3   | MathML, CSS, frame tags                       |
| 1999  | HTML4   | external CSS                                  |
| 2014  | HTML5   | email, password, media, and semantic tags     |
- The main HTML file in a web app should be index.html
